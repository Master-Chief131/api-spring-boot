<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>Clientes</title>
</head>
<body>
  <h1>Lista de Clientes</h1>
  <div>
    <input id="nombre" placeholder="Nombre">
    <input id="telefono" placeholder="TelÃ©fono">
    <button onclick="crearCliente()">Agregar</button>
    <br><br><br>
    <button onclick="window.location.href='/api/clientes'">Ver Clientes (JSON)</button>
    <br>
    <button onclick="window.location.href='/api/familias-producto'">Ver Familias (SubFamilia Sub-SubFamilia) de Producto (JSON)</button>
    <br>
    <button onclick="window.location.href='/api/familias-producto'">Ver Sucursales (JSON)</button>
    <br>
    <button onclick="window.location.href='/api/bodegas'">Ver Bodegas (JSON)</button>
  </div>
  <ul id="lista-clientes"></ul>

  <script>
    async function cargarClientes() {
      const res = await fetch('/api/clientes');
      const clientes = await res.json();
      const lista = document.getElementById('lista-clientes');
      lista.innerHTML = '';
      clientes.forEach(c => {
        const li = document.createElement('li');
        li.innerText = `${c.nombre} (${c.telefono})`;
        lista.appendChild(li);
      });
    }

    async function crearCliente() {
      const nombre = document.getElementById('nombre').value;
      const telefono = document.getElementById('telefono').value;
      await fetch('/api/clientes', {
        method: 'POST',
        headers: {'Content-Type': 'application/json'},
        body: JSON.stringify({nombre, telefono})
      });
      cargarClientes();
    }

    cargarClientes();
  </script>
</body>
</html>